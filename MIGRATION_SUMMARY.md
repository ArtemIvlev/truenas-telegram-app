# ‚úÖ –ú–∏–≥—Ä–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞

## –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å:

### üîÑ –£–±—Ä–∞–Ω—ã —Å–∞–±–º–æ–¥—É–ª–∏
- ‚ùå –£–¥–∞–ª–µ–Ω `git submodule telegram-post`
- ‚úÖ –ö–æ–¥ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –Ω–∞–ø—Ä—è–º—É—é –≤ `app/telegram/`
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω—ã —Å–∫—Ä–∏–ø—Ç—ã —Å–±–æ—Ä–∫–∏ –∏ CI/CD

### üöÄ –°–æ–∑–¥–∞–Ω–æ FastAPI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
**–†–µ–∞–ª—å–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã (–±–µ–∑ –∏–∑–æ–±—Ä–µ—Ç–µ–Ω–∏–π):**

#### üè† –û—Å–Ω–æ–≤–Ω—ã–µ
- `GET /` - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–µ—Ä–≤–∏—Å–µ
- `GET /health` - –°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã
- `GET /config` - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

#### ‚è∞ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ 
- `GET /scheduler/status` - –°—Ç–∞—Ç—É—Å –∑–∞–¥–∞—á
- `GET /scheduler/jobs` - –°–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á
- `POST /scheduler/jobs/{job_id}/run` - –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫

#### üì± Telegram
- `POST /telegram/post-random` - –°–ª—É—á–∞–π–Ω–æ–µ —Ñ–æ—Ç–æ
- `POST /telegram/post-file` - –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ñ–∞–π–ª
- `GET /telegram/status` - –°—Ç–∞—Ç—É—Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

#### üì∏ –§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏
- `GET /photos/stats` - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–æ–ª–ª–µ–∫—Ü–∏–∏
- `GET /photos/random-list` - –°–ø–∏—Å–æ–∫ —Ñ–æ—Ç–æ

### üßπ –£–±—Ä–∞–Ω–æ –ª–∏—à–Ω–µ–µ
- ‚ùå –£–¥–∞–ª–µ–Ω –º–æ–¥—É–ª—å `app/nsfw/` (–∏–∑–æ–±—Ä–µ—Ç–µ–Ω–∏–µ)
- ‚ùå –£–±—Ä–∞–Ω—ã –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ NSFW API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã
- ‚úÖ `detect_nude_handler` —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ - –ø—Ä–æ—Å—Ç–æ–π POST –∑–∞–ø—Ä–æ—Å

## üìã –ò—Ç–æ–≥–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### ‚úÖ –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:
1. **Telegram –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** - –ø–æ–ª–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
2. **–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é
3. **Random time posting** - –ø—É–±–ª–∏–∫–∞—Ü–∏—è –≤ —Å–ª—É—á–∞–π–Ω–æ–µ –≤—Ä–µ–º—è
4. **External API call** - –æ–±—Ä–∞—â–µ–Ω–∏–µ –∫ –≤–Ω–µ—à–Ω–µ–º—É API (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω)
5. **FastAPI** - –ø–æ–ª–Ω–æ–µ REST API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### üîß –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏:
- **RandomTimeHandler** - –ø—É–±–ª–∏–∫–∞—Ü–∏—è —Ñ–æ—Ç–æ –≤ —Å–ª—É—á–∞–π–Ω–æ–µ –≤—Ä–µ–º—è
- **DetectNudeHandler** - –ø—Ä–æ—Å—Ç–æ–π POST –∑–∞–ø—Ä–æ—Å –Ω–∞ –≤–Ω–µ—à–Ω–∏–π API (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω)

## üöÄ –ó–∞–ø—É—Å–∫:

```bash
# 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞
pip install -r requirements.txt

# 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞
cp .env.example .env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env —Å –≤–∞—à–∏–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏

# 3. –ó–∞–ø—É—Å–∫
uvicorn app.main:app --host 0.0.0.0 --port 8000 --reload

# 4. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
# http://localhost:8000/docs
```

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç:
- ‚úÖ –ï–¥–∏–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –±–µ–∑ —Å–∞–±–º–æ–¥—É–ª–µ–π
- ‚úÖ –ü–æ–ª–Ω–æ–µ FastAPI —Å –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º
- ‚úÖ –í—Å—ë —Ä–µ–∞–ª—å–Ω–æ —Ä–∞–±–æ—Ç–∞—é—â–µ–µ, –Ω–∏–∫–∞–∫–∏—Ö –∏–∑–æ–±—Ä–µ—Ç–µ–Ω–∏–π
- ‚úÖ –ü—Ä–æ—Å—Ç–æ—Ç–∞ –∏ –ø–æ–Ω—è—Ç–Ω–æ—Å—Ç—å –∫–æ–¥–∞

**–ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!** üéâ