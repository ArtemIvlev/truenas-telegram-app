# –°–≤–æ–¥–∫–∞ –º–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### üîÑ –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ —Å–∞–±–º–æ–¥—É–ª–µ–π
- **–£–¥–∞–ª–µ–Ω git submodule** `telegram-post`
- **–ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –∫–æ–¥** –Ω–∞–ø—Ä—è–º—É—é –≤ –ø—Ä–æ–µ–∫—Ç –∫–∞–∫ `app/telegram/`
- **–û–±–Ω–æ–≤–ª–µ–Ω—ã —Å–∫—Ä–∏–ø—Ç—ã —Å–±–æ—Ä–∫–∏** - —É–±—Ä–∞–Ω–∞ –ª–æ–≥–∏–∫–∞ —Å —Å–∞–±–º–æ–¥—É–ª—è–º–∏
- **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω Dockerfile** - —É–±—Ä–∞–Ω—ã —Å—Å—ã–ª–∫–∏ –Ω–∞ —Å–∞–±–º–æ–¥—É–ª–∏
- **–û–±–Ω–æ–≤–ª–µ–Ω CI/CD** - —É–±—Ä–∞–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–∞–±–º–æ–¥—É–ª–µ–π

### üöÄ –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–µ FastAPI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
–°–æ–∑–¥–∞–Ω–æ 25+ API —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤, —Å–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º:

#### üè† –û—Å–Ω–æ–≤–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã
- `GET /` - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–µ—Ä–≤–∏—Å–µ –∏ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞—Ö
- `GET /health` - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º —Å—Ç–∞—Ç—É—Å–æ–º
- `GET /config` - –¢–µ–∫—É—â–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (–±–µ–∑ —Å–µ–∫—Ä–µ—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö)

#### ‚è∞ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–æ–º
- `GET /scheduler/status` - –ü–æ–ª–Ω—ã–π —Å—Ç–∞—Ç—É—Å –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –∏ –∑–∞–¥–∞—á
- `GET /scheduler/jobs` - –î–µ—Ç–∞–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∑–∞–¥–∞—á
- `POST /scheduler/jobs/{job_id}/run` - –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ –ª—é–±–æ–π –∑–∞–¥–∞—á–∏

#### üì± Telegram –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- `POST /telegram/post-random` - –ü—É–±–ª–∏–∫–∞—Ü–∏—è —Å–ª—É—á–∞–π–Ω–æ–≥–æ —Ñ–æ—Ç–æ
- `POST /telegram/post-file` - –û—Ç–ø—Ä–∞–≤–∫–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ñ–∞–π–ª–∞
- `GET /telegram/status` - –°—Ç–∞—Ç—É—Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Telegram

#### üì∏ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è–º–∏
- `GET /photos/stats` - –ü–æ–¥—Ä–æ–±–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ñ–æ—Ç–æ–∫–æ–ª–ª–µ–∫—Ü–∏–∏
- `GET /photos/random-list` - –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —Å–ª—É—á–∞–π–Ω—ã—Ö —Ñ–æ—Ç–æ

#### üîû NSFW –¥–µ—Ç–µ–∫—Ü–∏—è
- `POST /nsfw/scan-all` - –ü–æ–ª–Ω–æ–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- `POST /nsfw/scan-single` - –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- `GET /nsfw/review-stats` - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
- `GET /nsfw/settings` - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–µ—Ç–µ–∫—Ç–æ—Ä–∞

### üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

#### –ú–æ–¥—É–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:
```
app/
‚îú‚îÄ‚îÄ config/          # –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
‚îú‚îÄ‚îÄ handlers/        # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞–¥–∞—á (—É–ª—É—á—à–µ–Ω—ã)
‚îú‚îÄ‚îÄ scheduler/       # –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ (—Å–æ–≤–º–µ—Å—Ç–∏–º —Å async)
‚îú‚îÄ‚îÄ telegram/        # Telegram –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è (–Ω–æ–≤—ã–π)
‚îú‚îÄ‚îÄ nsfw/           # NSFW –¥–µ—Ç–µ–∫—Ü–∏—è (–Ω–æ–≤—ã–π)
‚îî‚îÄ‚îÄ main.py         # FastAPI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (–ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–ø–∏—Å–∞–Ω)
```

#### –ö–ª—é—á–µ–≤—ã–µ –º–æ–¥—É–ª–∏:
- **`app.config.settings`** - –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π
- **`app.telegram.post`** - –ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è Telegram –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- **`app.nsfw.detector`** - –°–∏—Å—Ç–µ–º–∞ –¥–µ—Ç–µ–∫—Ü–∏–∏ NSFW —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ–º
- **`app.handlers.*`** - –£–ª—É—á—à–µ–Ω–Ω—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å retry-–ª–æ–≥–∏–∫–æ–π

### üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

#### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:
- ‚úÖ Retry –º–µ—Ö–∞–Ω–∏–∑–º—ã –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö API
- ‚úÖ Graceful handling timeouts –∏ connection errors
- ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫
- ‚úÖ –î–µ—Ç–∞–ª—å–Ω—ã–µ HTTP status codes

#### –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å:
- ‚úÖ –ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ async/await
- ‚úÖ –û–±–µ—Ä—Ç–∫–∞ –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–æ–º
- ‚úÖ Background tasks –¥–ª—è –¥–ª–∏—Ç–µ–ª—å–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

#### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:
- ‚úÖ –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –∫–ª–∞—Å—Å Settings
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π .env.example —Å –ø–æ–ª–Ω—ã–º –Ω–∞–±–æ—Ä–æ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

## üìã –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å API

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞—á–∏:
1. **Random Time Post** - –ü—É–±–ª–∏–∫–∞—Ü–∏—è —Ñ–æ—Ç–æ –≤ —Å–ª—É—á–∞–π–Ω–æ–µ –≤—Ä–µ–º—è
2. **NSFW Detection** - –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞

### –†—É—á–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:
- –ü—É–±–ª–∏–∫–∞—Ü–∏—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
- –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –ø–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å—Ç–∞—Ç—É—Å–∞ —Å–∏—Å—Ç–µ–º—ã

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ñ–æ—Ç–æ–∫–æ–ª–ª–µ–∫—Ü–∏–∏
- –°—Ç–∞—Ç—É—Å Telegram –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- –ú–µ—Ç—Ä–∏–∫–∏ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞
- –õ–æ–≥–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏

## üîÑ –ú–∏–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

### –ë–µ–∑ –ø–æ—Ç–µ—Ä–∏ –¥–∞–Ω–Ω—ã—Ö:
- ‚úÖ –í—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã
- ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤ –Ω–µ –∏–∑–º–µ–Ω–µ–Ω–∞
- ‚úÖ –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è

### –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:
- ‚úÖ Web UI —á–µ—Ä–µ–∑ Swagger (/docs)
- ‚úÖ –ü—Ä–æ–≥—Ä–∞–º–º–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º —Ñ—É–Ω–∫—Ü–∏—è–º
- ‚úÖ –î–µ—Ç–∞–ª—å–Ω–∞—è –æ—Ç—á–µ—Ç–Ω–æ—Å—Ç—å –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ –ì–∏–±–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ API

## üö¶ –°–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

### ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ production:
- –£—Å—Ç—Ä–∞–Ω–µ–Ω—ã –≤—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏
- –°–æ–∑–¥–∞–Ω–∞ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- –ù–∞—Å—Ç—Ä–æ–µ–Ω CI/CD pipeline
- –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–æ—Å—Ç—É–ø–Ω—ã —á–µ—Ä–µ–∑ API

### üéØ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–æ–≤–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã:
1. **–ï–¥–∏–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π** - –Ω–µ—Ç –ø—É—Ç–∞–Ω–∏—Ü—ã —Å —Å–∞–±–º–æ–¥—É–ª—è–º–∏
2. **–ü–æ–ª–Ω–æ–µ API** - –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–æ—Å—Ç—É–ø–Ω—ã –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ
3. **–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** - —É–¥–æ–±–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä
4. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** - –¥–µ—Ç–∞–ª—å–Ω–∞—è –æ—Ç—á–µ—Ç–Ω–æ—Å—Ç—å –ø–æ –≤—Å–µ–º –ø—Ä–æ—Ü–µ—Å—Å–∞–º
5. **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** - –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

## üéâ –ò—Ç–æ–≥

–ü—Ä–æ–µ–∫—Ç —É—Å–ø–µ—à–Ω–æ **–º–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω** –∏–∑ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã —Å —Å–∞–±–º–æ–¥—É–ª—è–º–∏ –≤ **–º–æ–Ω–æ–ª–∏—Ç–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É** —Å –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–º **FastAPI**. –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ç–µ–ø–µ—Ä—å –¥–æ—Å—Ç—É–ø–Ω—ã —á–µ—Ä–µ–∑ **—É–¥–æ–±–Ω—ã–π –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** –∏ **REST API**, —á—Ç–æ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —É–ø—Ä–æ—â–∞–µ—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–∏—Å—Ç–µ–º—ã.